import React from 'react'; import { PieChart, Pie, Cell, ResponsiveContainer, Tooltip, Legend } from 'recharts'; const COLORS = ['#F56565', '#ED8936', '#ECC94B', '#48BB78', '#38B2AC', '#4299E1', '#667EEA', '#9F7AEA', '#ED64A6']; export default function CategoryDonutChart({ transactions }) { const expenseData = transactions .filter(t => t.type === 'expense') .reduce((acc, t) => { if (!acc[t.category]) { acc[t.category] = 0; } acc[t.category] += t.amount; return acc; }, {}); const data = Object.keys(expenseData).map(key => ({ name: key, value: expenseData[key] })); return ( <div style={{ width: '100%', height: 300 }}> <ResponsiveContainer> <PieChart> <Pie data={data} cx="50%" cy="50%" innerRadius={60} outerRadius={80} fill="#8884d8" paddingAngle={5} dataKey="value" > {data.map((entry, index) => ( <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} /> ))} </Pie> <Tooltip contentStyle={{ backgroundColor: '#1A202C', border: '1px solid #4A5568', color: '#E2E8F0' }} formatter={(value, name) => [`$${value.toFixed(2)}`, name]} /> <Legend wrapperStyle={{ color: '#A0AEC0', fontSize: '12px' }}/> </PieChart> </ResponsiveContainer> </div> ); }
